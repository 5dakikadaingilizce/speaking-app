<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>5 Dakikada ƒ∞ngilizce - V.1.5</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="logo.png">

    <style>
        :root {
            --bg-dark: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.85);
            --primary: #38bdf8;
            --secondary: #2dd4bf;
            --accent: #fb7185;
            --text-main: #f8fafc;
            --logo-grad: linear-gradient(90deg, #ff4d4d, #f97316);
        }

        body {
            margin: 0; font-family: 'Inter', sans-serif; 
            background: radial-gradient(circle at top right, #1e293b, #0f172a);
            height: 100vh; display: flex; justify-content: center; align-items: center; 
            color: var(--text-main); overflow: hidden;
        }

        #entry-page { display: flex; flex-direction: column; align-items: center; width: 100%; z-index: 30; }
        .lesson-card {
            background: var(--card-bg); padding: 20px; border-radius: 20px; width: 80%; max-width: 300px;
            margin: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; transition: 0.3s;
        }
        .lesson-card h3 { margin: 0; color: var(--primary); }

        #app-screen { display: none; width: 88%; max-width: 420px; text-align: center; position: relative; }
        .version-tag { position: absolute; top: -40px; right: 0; font-size: 10px; color: rgba(255,255,255,0.3); }
        .home-btn { position: absolute; top: -45px; left: 0; font-size: 24px; background: none; border: none; cursor: pointer; }

        .app-box {
            background: var(--card-bg); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 30px; border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6); position: relative;
        }

        .app-logo { width: 70px; height: 70px; margin-bottom: 10px; }
        .sub-title { font-size: 20px; font-weight: 900; margin-bottom: 15px; background: var(--logo-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .phrase-container { min-height: 110px; display: flex; flex-direction: column; justify-content: center; }
        #phrase-tr { font-size: 26px; font-weight: 800; color: var(--secondary); }
        #phrase-en { font-size: 18px; color: #94a3b8; margin-top: 10px; font-style: italic; opacity: 0; transition: 0.3s; }
        #phrase-en.visible { opacity: 1; }

        .start { 
            background: linear-gradient(135deg, #38bdf8, #0ea5e9); color: #0f172a; width: 100%; padding: 18px; 
            border-radius: 20px; font-size: 18px; font-weight: 800; border: none; cursor: pointer;
        }
        .recording { background: #fb7185 !important; animation: none !important; }

        .ctrl-container { display: flex; gap: 8px; margin: 15px 0; flex-wrap: wrap; }
        .ctrl { background: rgba(51, 65, 85, 0.7); color: white; flex: 1; padding: 12px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.05); font-weight: 600; font-size: 12px; }
        .btn-toggle { width: 100%; background: rgba(56, 189, 248, 0.2); color: var(--primary); border: 1px solid var(--primary); }
        .nav-group { display: flex; width: 100%; gap: 8px; }

        #result { font-size: 14px; font-weight: 700; height: 30px; margin: 10px 0; }
        .stats { margin-top: 10px; font-size: 11px; color: #94a3b8; background: rgba(15, 23, 42, 0.4); padding: 12px; border-radius: 20px; display: flex; justify-content: space-between; }
        
        .restart-overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); border-radius: 35px; flex-direction: column; justify-content: center; align-items: center; z-index: 50; }
        .restart-overlay.active { display: flex; }
    </style>
</head>
<body>

<div id="entry-page">
    <img src="logo.png" style="width: 80px; margin-bottom: 20px;">
    <h1 style="color:white; margin-bottom: 30px;">Select Lesson</h1>
    <div class="lesson-card" onclick="startLesson(1)">
        <h3>Lesson 1</h3>
        <p style="color:#94a3b8; font-size:12px; margin:5px 0 0;">300 Basic Nouns</p>
    </div>
</div>

<div id="app-screen">
    <div class="version-tag">V.1.5</div>
    <button class="home-btn" onclick="goHome()">üè†</button>
    
    <div class="app-box">
        <div id="restartOverlay" class="restart-overlay">
            <h2 style="color:white;">Completed! üèÜ</h2>
            <button class="start" onclick="restartLesson()">RESTART</button>
        </div>

        <img src="logo.png" class="app-logo">
        <div class="sub-title" id="lessonTitle">#Lesson 1</div>
        
        <div class="phrase-container">
            <div id="phrase-tr">...</div>
            <div id="phrase-en">...</div>
        </div>

        <button class="start" id="startBtn">TAP TO SPEAK</button>
        
        <div class="ctrl-container">
            <button class="ctrl btn-toggle" id="toggleBtn">SHOW ENGLISH</button>
            <button class="ctrl" id="passBtn" style="background:rgba(251,113,133,0.1); color:var(--accent);">PASS</button>
            <button class="ctrl" id="listenBtn">LISTEN</button>
            <div class="nav-group">
                <button class="ctrl" id="backBtn">‚Üê BACK</button>
                <button class="ctrl" id="nextBtn">NEXT ‚Üí</button>
            </div>
        </div>

        <div id="result"></div>
        <div class="stats">
            <div>ORDER <span id="current" style="color:var(--primary)">1</span></div>
            <div>‚úÖ <span id="correct" style="color:var(--secondary)">0</span></div>
            <div>‚è≠Ô∏è <span id="passedCount" style="color:var(--accent)">0</span></div>
            <div>‚è≥ <span id="remaining">0</span></div>
        </div>
    </div>
</div>

<script>
// --- KELƒ∞ME Lƒ∞STESƒ∞ ---
const nouns = [
    {tr:"G√ºn", en:"Day"}, {tr:"Pazartesi", en:"Monday"}, {tr:"Salƒ±", en:"Tuesday"}, {tr:"√áar≈üamba", en:"Wednesday"}, {tr:"Per≈üembe", en:"Thursday"}, {tr:"Cuma", en:"Friday"}, {tr:"Cumartesi", en:"Saturday"}, {tr:"Pazar", en:"Sunday"}, {tr:"Tatil", en:"Holiday"}, {tr:"Doƒüum g√ºn√º", en:"Birthday"}, {tr:"D√ºn", en:"Yesterday"}, {tr:"Bug√ºn", en:"Today"}, {tr:"Yarƒ±n", en:"Tomorrow"}, {tr:"Ay (Ocak...)", en:"Month"}, {tr:"Ocak", en:"January"}, {tr:"≈ûubat", en:"February"}, {tr:"Mart", en:"March"}, {tr:"Nisan", en:"April"}, {tr:"Mayƒ±s", en:"May"}, {tr:"Haziran", en:"June"}, {tr:"Temmuz", en:"July"}, {tr:"Aƒüustos", en:"August"}, {tr:"Eyl√ºl", en:"September"}, {tr:"Ekim", en:"October"}, {tr:"Kasƒ±m", en:"November"}, {tr:"Aralƒ±k", en:"December"}, {tr:"Mevsim", en:"Season"}, {tr:"ƒ∞lkbahar", en:"Spring"}, {tr:"Yaz", en:"Summer"}, {tr:"Sonbahar", en:"Autumn"}, {tr:"Kƒ±≈ü", en:"Winter"}, {tr:"Zaman", en:"Time"}, {tr:"Saniye", en:"Second"}, {tr:"Dakika", en:"Minute"}, {tr:"Saat", en:"Hour"}, {tr:"Hafta", en:"Week"}, {tr:"Yƒ±l", en:"Year"}, {tr:"Sabah", en:"Morning"}, {tr:"√ñƒüle", en:"Noon"}, {tr:"Ak≈üam", en:"Evening"}, {tr:"Gece", en:"Night"}, {tr:"Meslek", en:"Job"}, {tr:"√ñƒüretmen", en:"Teacher"}, {tr:"Garson", en:"Waiter"}, {tr:"√ñƒürenci", en:"Student"}, {tr:"M√ºd√ºr", en:"Manager"}, {tr:"Asker", en:"Soldier"}, {tr:"Polis", en:"Cop"}, {tr:"Hem≈üire", en:"Nurse"}, {tr:"Doktor", en:"Doctor"}, {tr:"Avukat", en:"Lawyer"}, {tr:"A≈ü√ßƒ±", en:"Cook"}, {tr:"ƒ∞≈ü√ßi", en:"Worker"}, {tr:"ƒ∞≈ü", en:"Work"}, {tr:"K√∂y", en:"Village"}, {tr:"Kasaba", en:"Town"}, {tr:"≈ûehir", en:"City"}, {tr:"√úlke", en:"Country"}, {tr:"T√ºrkiye", en:"Turkey"}, {tr:"T√ºrk", en:"Turkish"}, {tr:"Amerika", en:"America"}, {tr:"Amerikan", en:"American"}, {tr:"Nehir", en:"River"}, {tr:"Deniz", en:"Sea"}, {tr:"Daƒü", en:"Mountain"}, {tr:"G√∂ky√ºz√º", en:"Sky"}, {tr:"Yƒ±ldƒ±z", en:"Star"}, {tr:"D√ºnya", en:"World"}, {tr:"G√ºne≈ü", en:"Sun"}, {tr:"Yaƒümur", en:"Rain"}, {tr:"R√ºzgar", en:"Wind"}, {tr:"Kar", en:"Snow"}, {tr:"Bulut", en:"Cloud"}, {tr:"Aƒüa√ß", en:"Tree"}, {tr:"Bah√ße", en:"Garden"}, {tr:"√ái√ßek", en:"Flower"}, {tr:"Ev", en:"House"}, {tr:"Okul", en:"School"}, {tr:"Banka", en:"Bank"}, {tr:"Hastane", en:"Hospital"}, {tr:"Ofis", en:"Office"}, {tr:"Oda", en:"Room"}, {tr:"Kapƒ±", en:"Door"}, {tr:"Pencere", en:"Window"}, {tr:"Masa", en:"Table"}, {tr:"Sandalye", en:"Chair"}, {tr:"Kitap", en:"Book"}, {tr:"Defter", en:"Notebook"}, {tr:"Kalem", en:"Pencil"}, {tr:"Bilgisayar", en:"Computer"}, {tr:"Telefon", en:"Phone"}, {tr:"Para", en:"Money"}, {tr:"U√ßak", en:"Plane"}, {tr:"Araba", en:"Car"}, {tr:"Yol", en:"Road"}, {tr:"Kahvaltƒ±", en:"Breakfast"}, {tr:"√ñƒüle Yemeƒüi", en:"Lunch"}, {tr:"Ak≈üam Yemeƒüi", en:"Dinner"}, {tr:"Su", en:"Water"}, {tr:"Ekmek", en:"Bread"}, {tr:"Meyve", en:"Fruit"}, {tr:"Sebze", en:"Vegetable"}, {tr:"Hayvan", en:"Animal"}, {tr:"Kedi", en:"Cat"}, {tr:"K√∂pek", en:"Dog"}
];

let index = 0, correctCount = 0, passedCount = 0, isListening = false, showEn = false;
let currentList = [];

// --- SES VE Bƒ∞P FONKSƒ∞YONLARI ---
function playBeep(isCorrect) {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const g = ctx.createGain();
    osc.connect(g); g.connect(ctx.destination);
    osc.frequency.value = isCorrect ? 800 : 150;
    g.gain.setValueAtTime(0.3, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
    osc.start(); osc.stop(ctx.currentTime + 0.3);
}

function speak() {
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(currentList[index].en);
    u.lang = "en-US"; u.rate = 0.8;
    const voices = window.speechSynthesis.getVoices();
    // Google veya Microsoft'un US English kadƒ±n sesini bul
    const v = voices.find(x => x.name.includes("Google") && x.lang === "en-US") || 
              voices.find(x => x.name.includes("Female") && x.lang === "en-US") || voices[0];
    if(v) u.voice = v;
    window.speechSynthesis.speak(u);
}

// --- Mƒ∞KROFON AYARLARI ---
const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
let rec;
if(SR) {
    rec = new SR();
    rec.lang = "en-US";
    rec.continuous = false;
    
    rec.onstart = () => { 
        isListening = true; 
        document.getElementById("startBtn").innerText = "LISTENING...";
        document.getElementById("startBtn").classList.add("recording");
    };
    
    rec.onresult = e => {
        const spoken = e.results[0][0].transcript.toLowerCase().trim();
        const target = currentList[index].en.toLowerCase().trim();
        if(spoken === target || spoken.includes(target)) {
            correctCount++;
            playBeep(true);
            document.getElementById("result").innerHTML = "<span style='color:var(--secondary)'>CORRECT!</span>";
            setTimeout(nextWord, 600);
        } else {
            playBeep(false);
            document.getElementById("result").innerHTML = `<span style='color:var(--accent)'>HEARD: ${spoken}</span>`;
        }
    };
    
    rec.onend = () => {
        isListening = false;
        document.getElementById("startBtn").innerText = "TAP TO SPEAK";
        document.getElementById("startBtn").classList.remove("recording");
    };
}

// --- NAVƒ∞GASYON ---
function startLesson(id) {
    currentList = [...nouns];
    index = 0; correctCount = 0; passedCount = 0;
    document.getElementById("entry-page").style.display = "none";
    document.getElementById("app-screen").style.display = "block";
    render();
}

function goHome() {
    document.getElementById("app-screen").style.display = "none";
    document.getElementById("entry-page").style.display = "flex";
}

function render() {
    if(index >= currentList.length) {
        document.getElementById("restartOverlay").classList.add("active");
        return;
    }
    document.getElementById("phrase-tr").textContent = currentList[index].tr;
    document.getElementById("phrase-en").textContent = currentList[index].en;
    document.getElementById("phrase-en").classList.toggle("visible", showEn);
    document.getElementById("current").textContent = index + 1;
    document.getElementById("correct").textContent = correctCount;
    document.getElementById("passedCount").textContent = passedCount;
    document.getElementById("remaining").textContent = currentList.length - (index + 1);
}

function nextWord() {
    if(index < currentList.length - 1) {
        index++; showEn = false; render();
        document.getElementById("result").innerHTML = "";
    } else {
        document.getElementById("restartOverlay").classList.add("active");
    }
}

function restartLesson() {
    index = 0; correctCount = 0; passedCount = 0;
    currentList = [...nouns];
    document.getElementById("restartOverlay").classList.remove("active");
    render();
}

// --- CLICK HANDLERS ---
document.getElementById("startBtn").onclick = () => { if(!isListening) rec.start(); };
document.getElementById("listenBtn").onclick = speak;
document.getElementById("toggleBtn").onclick = () => { showEn = !showEn; render(); };
document.getElementById("nextBtn").onclick = nextWord;
document.getElementById("backBtn").onclick = () => { if(index > 0) { index--; render(); } };
document.getElementById("passBtn").onclick = () => {
    passedCount++;
    currentList.push(currentList[index]);
    nextWord();
};

window.speechSynthesis.onvoiceschanged = () => { window.speechSynthesis.getVoices(); };
</script>
</body>
</html>
